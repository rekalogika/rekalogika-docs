"use strict";(self.webpackChunkrekalogika_docs=self.webpackChunkrekalogika_docs||[]).push([[788],{4804:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"gotenberg-pdf-bundle/installation","title":"Installation & Quick Start","description":"This chapter describes how to install and use the bundle.","source":"@site/docs/gotenberg-pdf-bundle/01-installation.md","sourceDirName":"gotenberg-pdf-bundle","slug":"/gotenberg-pdf-bundle/installation","permalink":"/gotenberg-pdf-bundle/installation","draft":false,"unlisted":false,"editUrl":"https://github.com/rekalogika/rekalogika-docs/edit/main/docs/gotenberg-pdf-bundle/01-installation.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Installation & Quick Start"},"sidebar":"docs","previous":{"title":"rekalogika/gotenberg-pdf-bundle","permalink":"/gotenberg-pdf-bundle/"},"next":{"title":"Usage","permalink":"/gotenberg-pdf-bundle/usage"}}');var r=t(4848),s=t(8453);const a={title:"Installation & Quick Start"},l=void 0,i={},c=[{value:"Installation",id:"installation",level:2},{value:"Quick Start",id:"quick-start",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"This chapter describes how to install and use the bundle."}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.p,{children:"Preinstallation checklists:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Make sure Composer is installed globally, as explained in the ",(0,r.jsx)(n.a,{href:"https://getcomposer.org/doc/00-intro.md",children:"installation\nchapter"})," of the Composer\ndocumentation. Run ",(0,r.jsx)(n.code,{children:"composer about"})," to verify."]}),"\n",(0,r.jsxs)(n.li,{children:["Make sure your project has Symfony Flex installed and enabled (it is enabled\nby default). Run ",(0,r.jsx)(n.code,{children:"composer why symfony/flex"})," to verify."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Open a command console, enter your project directory, and execute:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"composer config extra.symfony.allow-contrib true\ncomposer require rekalogika/gotenberg-pdf-bundle\n"})}),"\n",(0,r.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,r.jsx)(n.p,{children:"Checklist:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Make sure you have Docker Compose installed. Run ",(0,r.jsx)(n.code,{children:"docker compose version"})," to\nverify."]}),"\n",(0,r.jsxs)(n.li,{children:["Make sure you have Symfony CLI installed. Run ",(0,r.jsx)(n.code,{children:"symfony version"})," to verify."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"To start the Gotenberg server (and other services registered in the Docker\nCompose configuration), run:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker compose up -d\n"})}),"\n",(0,r.jsx)(n.p,{children:"Then start the web server using Symfony CLI:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"symfony serve\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create a sample controller for generating a PDF file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:'title="src/Controller/AppController.php"',children:"namespace App\\Controller;\n\nuse Rekalogika\\Contracts\\Print\\PageOrientation;\nuse Rekalogika\\Contracts\\Print\\PdfGeneratorInterface;\nuse Rekalogika\\Print\\PageLayout;\nuse Rekalogika\\Print\\Paper;\nuse Symfony\\Bundle\\FrameworkBundle\\Controller\\AbstractController;\nuse Symfony\\Component\\HttpFoundation\\Response;\nuse Symfony\\Component\\HttpFoundation\\StreamedResponse;\nuse Symfony\\Component\\Routing\\Annotation\\Route;\n\nclass AppController extends AbstractController\n{\n    #[Route('/pdf')]\n    public function index(PdfGeneratorInterface $pdfGenerator): Response\n    {\n        $pdf = $pdfGenerator->generatePdfFromHtml(\n            htmlContent: '<h1>Hello World</h1>',\n            paper: Paper::A4(),\n            pageLayout: PageLayout::inMm(PageOrientation::Portrait, 30)\n        );\n\n        return new StreamedResponse(\n            callback: fn () => fpassthru($pdf->detach()),\n            status: 200,\n            headers: [\n                'Content-Type' => 'application/pdf',\n            ]\n        );\n    }\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Then open your browser and go to ",(0,r.jsx)(n.a,{href:"http://localhost:8000/pdf",children:"localhost:8000/pdf"}),"."]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var o=t(6540);const r={},s=o.createContext(r);function a(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);