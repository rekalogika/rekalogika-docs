"use strict";(self.webpackChunkrekalogika_docs=self.webpackChunkrekalogika_docs||[]).push([[62],{7727:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>d,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"doctrine-advanced-group-by/group-by","title":"GROUP BY Usage","description":"We add the advanced GROUP BY functionality to Doctrine ORM queries by using an","source":"@site/docs/doctrine-advanced-group-by/01-group-by.md","sourceDirName":"doctrine-advanced-group-by","slug":"/doctrine-advanced-group-by/group-by","permalink":"/doctrine-advanced-group-by/group-by","draft":false,"unlisted":false,"editUrl":"https://github.com/rekalogika/rekalogika-docs/edit/main/docs/doctrine-advanced-group-by/01-group-by.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"GROUP BY Usage"},"sidebar":"docs","previous":{"title":"Introduction","permalink":"/doctrine-advanced-group-by/intro"},"next":{"title":"Flattening","permalink":"/doctrine-advanced-group-by/flattening"}}');var a=t(4848),i=t(8453);const o={title:"GROUP BY Usage"},d=void 0,s={},c=[{value:"Example Usage",id:"example-usage",level:2},{value:"Class Diagram",id:"class-diagram",level:2}];function l(e){const n={code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["We add the advanced ",(0,a.jsx)(n.code,{children:"GROUP BY"})," functionality to Doctrine ORM queries by using an\nSQL walker."]}),"\n",(0,a.jsx)(n.h2,{id:"example-usage",children:"Example Usage"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-php",children:"use Doctrine\\ORM\\QueryBuilder;\nuse Rekalogika\\DoctrineAdvancedGroupBy\\GroupBy;\nuse Rekalogika\\DoctrineAdvancedGroupBy\\GroupingSet;\nuse Rekalogika\\DoctrineAdvancedGroupBy\\FieldSet;\nuse Rekalogika\\DoctrineAdvancedGroupBy\\Field;\n\n/** @var QueryBuilder $queryBuilder */\n\n$queryBuilder\n    ->from(SomeEntity::class, 'e')\n    ->select('e.a AS a')\n    ->addSelect('e.b AS b')\n    ->addSelect('e.c AS c')\n    ->addSelect('e.d AS d');\n\n// highlight-start\n$groupBy = new GroupBy(\n    new GroupingSet(\n        new FieldSet(\n            new Field('a'),\n            new Field('b'),\n        ),\n        new FieldSet(\n            new Field('c'),\n            new Field('d'),\n        ),\n    ),\n);\n// highlight-end\n\n$query = $queryBuilder->getQuery();\n// highlight-next-line\n$groupBy->apply($query);\n$result = $query->getResult();\n"})}),"\n",(0,a.jsx)(n.h2,{id:"class-diagram",children:"Class Diagram"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.img,{alt:"GroupBy",src:t(9544).A+"#light",width:"370",height:"414"}),"\n",(0,a.jsx)(n.img,{alt:"GroupBY",src:t(7880).A+"#dark",width:"370",height:"414"})]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},7880:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/groupby.dark-4c799f5b8950935b1c59d85c4cd74b6c.svg"},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>d});var r=t(6540);const a={},i=r.createContext(a);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(i.Provider,{value:n},e.children)}},9544:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/groupby.light-7b357673f0c6179b6a2b8620cef1682e.svg"}}]);