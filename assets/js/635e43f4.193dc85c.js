"use strict";(self.webpackChunkrekalogika_docs=self.webpackChunkrekalogika_docs||[]).push([[9033],{4882:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>l,contentTitle:()=>c,default:()=>o,frontMatter:()=>d,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"analytics/time-dimension/hierarchies","title":"Hierarchies","description":"If you need to summarize your data by time, most of the time you will want to","source":"@site/docs/analytics/08-time-dimension/01-hierarchies.md","sourceDirName":"analytics/08-time-dimension","slug":"/analytics/time-dimension/hierarchies","permalink":"/analytics/time-dimension/hierarchies","draft":false,"unlisted":false,"editUrl":"https://github.com/rekalogika/rekalogika-docs/edit/main/docs/analytics/08-time-dimension/01-hierarchies.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Hierarchies"},"sidebar":"docs","previous":{"title":"Time Dimension","permalink":"/analytics/time-dimension/"},"next":{"title":"Internals","permalink":"/analytics/internals/"}}');var t=r(4848),s=r(8453);const d={title:"Hierarchies"},c=void 0,l={},a=[{value:"Example",id:"example",level:2},{value:"Available Hierarchies",id:"available-hierarchies",level:2},{value:"Traits",id:"traits",level:2}];function h(e){const i={code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.p,{children:"If you need to summarize your data by time, most of the time you will want to\nuse one of the pre-made time dimension hierarchies. It allows you to break\ndown your data by year, month, day, hour, and other time units."}),"\n",(0,t.jsx)(i.h2,{id:"example",children:"Example"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-php",children:"use Doctrine\\Common\\Collections\\Order;\nuse Doctrine\\ORM\\Mapping as ORM;\nuse Rekalogika\\Analytics\\Core\\Metadata as Analytics;\nuse Rekalogika\\Analytics\\Core\\Entity\\Summary;\nuse Rekalogika\\Analytics\\Core\\ValueResolver\\PropertyValue;\nuse Rekalogika\\Analytics\\Time\\Hierarchy\\TimeDimensionHierarchy;\nuse Symfony\\Component\\Translation\\TranslatableMessage;\n\nclass OrderSummary extends Summary\n{\n    #[ORM\\Embedded()]\n    // highlight-start\n    #[Analytics\\Dimension(\n        source: new PropertyValue('time'),\n        label: new TranslatableMessage('Placed Time'),\n        orderBy: Order::Ascending,\n    )]\n    #[TimeProperties(\n        sourceTimeZone: new \\DateTimeZone('UTC'),\n        summaryTimeZone: new \\DateTimeZone('Asia/Jakarta'),\n    )]\n    private TimeDimensionHierarchy $time;\n    // highlight-end\n}\n"})}),"\n",(0,t.jsxs)(i.p,{children:["In this example, the property ",(0,t.jsx)(i.code,{children:"$time"})," in the ",(0,t.jsx)(i.code,{children:"OrderSummary"})," class will be\nsummarized into the ",(0,t.jsx)(i.code,{children:"TimeDimensionHierarchy"})," hierarchy. You will be able to\nselect the time using the notation ",(0,t.jsx)(i.code,{children:"time.year"}),", ",(0,t.jsx)(i.code,{children:"time.month"}),", ",(0,t.jsx)(i.code,{children:"time.day"}),", etc."]}),"\n",(0,t.jsx)(i.h2,{id:"available-hierarchies",children:"Available Hierarchies"}),"\n",(0,t.jsx)(i.p,{children:"These are the available time dimension hierarchies and their corresponding\nproperties:"}),"\n",(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Field"}),(0,t.jsx)("th",{class:"text-vertical",children:(0,t.jsx)(i.code,{children:"TimeDimensionHierarchy"})}),(0,t.jsx)("th",{class:"text-vertical",children:(0,t.jsx)(i.code,{children:"TimeWithoutWeekDimensionHierarchy"})}),(0,t.jsx)("th",{class:"text-vertical",children:(0,t.jsx)(i.code,{children:"DateDimensionHierarchy"})}),(0,t.jsx)("th",{class:"text-vertical",children:(0,t.jsx)(i.code,{children:"DateWithoutWeekDimensionHierarchy"})}),(0,t.jsx)("th",{children:"Trait"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"year"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:(0,t.jsx)(i.code,{children:"YearTrait"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"weekYear"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u274c"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u274c"}),(0,t.jsx)("td",{children:(0,t.jsx)(i.code,{children:"WeekYearTrait"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"quarter"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{rowspan:"2",children:(0,t.jsx)(i.code,{children:"QuarterTrait"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"quarterOfYear"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"month"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{rowspan:"2",children:(0,t.jsx)(i.code,{children:"MonthTrait"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"monthOfYear"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"week"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u274c"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u274c"}),(0,t.jsx)("td",{rowspan:"3",children:(0,t.jsx)(i.code,{children:"WeekTrait"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"weekOfYear"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u274c"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u274c"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"weekOfMonth"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u274c"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u274c"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"date"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{rowspan:"5",children:(0,t.jsx)(i.code,{children:"DayTrait"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"weekdate"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"dayOfWeek"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"dayOfMonth"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"dayOfYear"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"hour"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u274c"}),(0,t.jsx)("td",{children:"\u274c"}),(0,t.jsx)("td",{rowspan:"2",children:(0,t.jsx)(i.code,{children:"HourTrait"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"hourOfDay"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u2714\ufe0f"}),(0,t.jsx)("td",{children:"\u274c"}),(0,t.jsx)("td",{children:"\u274c"})]})]})]}),"\n",(0,t.jsx)(i.h2,{id:"traits",children:"Traits"}),"\n",(0,t.jsx)(i.p,{children:"The traits listed in the last column of the table above are useful if you\nwant to create a custom time dimension hierarchy. Read the existing hierarchies\nto see how they are used."})]})}function o(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,i,r)=>{r.d(i,{R:()=>d,x:()=>c});var n=r(6540);const t={},s=n.createContext(t);function d(e){const i=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),n.createElement(s.Provider,{value:i},e.children)}}}]);