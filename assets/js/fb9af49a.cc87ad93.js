"use strict";(self.webpackChunkrekalogika_docs=self.webpackChunkrekalogika_docs||[]).push([[8089],{4857:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>s,contentTitle:()=>c,default:()=>l,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"doctrine-advanced-group-by/grouping-function","title":"GROUPING() Function","description":"If you are using ROLLUP, CUBE, or GROUPING SETS, you also probably need to","source":"@site/docs/doctrine-advanced-group-by/03-grouping-function.md","sourceDirName":"doctrine-advanced-group-by","slug":"/doctrine-advanced-group-by/grouping-function","permalink":"/doctrine-advanced-group-by/grouping-function","draft":false,"unlisted":false,"editUrl":"https://github.com/rekalogika/rekalogika-docs/edit/main/docs/doctrine-advanced-group-by/03-grouping-function.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"GROUPING() Function"},"sidebar":"docs","previous":{"title":"Flattening","permalink":"/doctrine-advanced-group-by/flattening"},"next":{"title":"Visitor","permalink":"/doctrine-advanced-group-by/visitor"}}');var o=t(4848),r=t(8453);const a={title:"GROUPING() Function"},c=void 0,s={},d=[{value:"Function Registration",id:"function-registration",level:2},{value:"Registration without framework",id:"registration-without-framework",level:3},{value:"Registration with Symfony",id:"registration-with-symfony",level:3},{value:"Ad-Hoc Registration",id:"ad-hoc-registration",level:3},{value:"Example Usage",id:"example-usage",level:2}];function u(n){const e={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(e.p,{children:["If you are using ",(0,o.jsx)(e.code,{children:"ROLLUP"}),", ",(0,o.jsx)(e.code,{children:"CUBE"}),", or ",(0,o.jsx)(e.code,{children:"GROUPING SETS"}),", you also probably need to\nuse the ",(0,o.jsx)(e.code,{children:"GROUPING()"})," function. This package provides a DQL function for the\n",(0,o.jsx)(e.code,{children:"GROUPING()"})," function that you can use in a DQL ",(0,o.jsx)(e.code,{children:"Query"})," or ",(0,o.jsx)(e.code,{children:"QueryBuilder"}),"."]}),"\n",(0,o.jsx)(e.h2,{id:"function-registration",children:"Function Registration"}),"\n",(0,o.jsx)(e.h3,{id:"registration-without-framework",children:"Registration without framework"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-php",children:"use Doctrine\\ORM\\Configuration;\nuse Rekalogika\\DoctrineAdvancedGroupBy\\Function\\GroupingFunction;\n\n$configuration = new Configuration();\n$configuration->addCustomNumericFunction('GROUPING', GroupingFunction::class);\n"})}),"\n",(0,o.jsx)(e.h3,{id:"registration-with-symfony",children:"Registration with Symfony"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:"# config/packages/doctrine.yaml\ndoctrine:\n    orm:\n        dql:\n            numeric_functions:\n                GROUPING: Rekalogika\\DoctrineAdvancedGroupBy\\Function\\GroupingFunction\n"})}),"\n",(0,o.jsx)(e.h3,{id:"ad-hoc-registration",children:"Ad-Hoc Registration"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-php",children:"use Doctrine\\ORM\\EntityManagerInterface;\n\n/** @var EntityManagerInterface $entityManager */\n\n$entityManager\n    ->getConfiguration()\n    ->addCustomNumericFunction('GROUPING', GroupingFunction::class);\n"})}),"\n",(0,o.jsx)(e.h2,{id:"example-usage",children:"Example Usage"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-php",children:"use Doctrine\\ORM\\EntityManagerInterface;\n\n/** @var EntityManagerInterface $entityManager */\n\n$queryBuilder = $entityManager\n    ->createQueryBuilder()\n    ->from(SomeEntity::class, 'e')\n    ->select('e.a AS a')\n    ->addSelect('e.b AS b')\n    ->addSelect('GROUPING(e.a, e.b)');\n"})})]})}function l(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(u,{...n})}):u(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>a,x:()=>c});var i=t(6540);const o={},r=i.createContext(o);function a(n){const e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:a(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);