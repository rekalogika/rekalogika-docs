"use strict";(self.webpackChunkrekalogika_docs=self.webpackChunkrekalogika_docs||[]).push([[1738],{1154:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"analytics/user-interface/table-renderer","title":"Table Renderer","description":"To transform the query result into a table or a pivot table, you can use the","source":"@site/docs/analytics/11-user-interface/01-table-renderer.md","sourceDirName":"analytics/11-user-interface","slug":"/analytics/user-interface/table-renderer","permalink":"/analytics/user-interface/table-renderer","draft":false,"unlisted":false,"editUrl":"https://github.com/rekalogika/rekalogika-docs/edit/main/docs/analytics/11-user-interface/01-table-renderer.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Table Renderer"},"sidebar":"docs","previous":{"title":"User Interface","permalink":"/analytics/user-interface/"},"next":{"title":"Chart Generator","permalink":"/analytics/user-interface/chart-generator"}}');var a=t(4848),l=t(8453);const i={title:"Table Renderer"},s=void 0,o={},c=[{value:"Rendering a Pivot Table or Regular Table",id:"rendering-a-pivot-table-or-regular-table",level:2},{value:"Exception Handling",id:"exception-handling",level:2},{value:"Changing the Theme",id:"changing-the-theme",level:2},{value:"Creating a Custom Theme",id:"creating-a-custom-theme",level:2}];function d(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["To transform the query result into a table or a pivot table, you can use the\n",(0,a.jsx)(n.code,{children:"TableRenderer"})," service."]}),"\n",(0,a.jsx)(n.h2,{id:"rendering-a-pivot-table-or-regular-table",children:"Rendering a Pivot Table or Regular Table"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"renderPivotTable()"})," and ",(0,a.jsx)(n.code,{children:"renderTable()"})," methods will return a pivot table\nand regular table, respectively, in HTML string that you can use in your view."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-php",children:"use Rekalogika\\Analytics\\Contracts\\SummaryManager;\nuse Rekalogika\\Analytics\\Frontend\\Exception\\AnalyticsFrontendException;\nuse Rekalogika\\Analytics\\Frontend\\Html\\TableRenderer;\nuse Symfony\\Contracts\\Translation\\TranslatorInterface;\n\n/** @var SummaryManager $summaryManager */\n/** @var TableRenderer $tableRenderer */\n/** @var TranslatorInterface $translator */\n\n$result = $summaryManager\n    ->createQuery()\n    // ...\n    ->getResult();\n\n// renderPivotTable() returns a pivot table (or throws an exception if it cannot)\n$table = $tableRenderer->renderPivotTable(\n    cube: $result->getCube(),\n    rows: ['time.year', 'category'],\n    columns: ['@values'],\n    measures: ['price', 'count'],\n);\n\n// renderTable() returns a regular table\n$table = $tableRenderer->renderTable(\n    table: $result->getTable(),\n    measures: ['price', 'count'],\n);\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"@values"})," is a special dimension value that represents the measures of the\nquery."]}),"\n",(0,a.jsx)(n.h2,{id:"exception-handling",children:"Exception Handling"}),"\n",(0,a.jsxs)(n.p,{children:["By default, any error message will be rendered in the resulting HTML. If you\nwant to handle exceptions yourself, you can add the argument ",(0,a.jsx)(n.code,{children:"throwException: true"})," to the ",(0,a.jsx)(n.code,{children:"renderPivotTable()"})," or ",(0,a.jsx)(n.code,{children:"renderTable()"})," methods."]}),"\n",(0,a.jsxs)(n.p,{children:["The rendering methods may throw an ",(0,a.jsx)(n.code,{children:"AnalyticsFrontendException"})," if the rendering\nfails. ",(0,a.jsx)(n.code,{children:"AnalyticsFrontendException"})," is guaranteed to have a user-friendly,\ntranslatable error message that can be safely displayed to the user. Other\nexceptions are not guaranteed to have a user-friendly message, and should not be\ndisplayed to the user directly."]}),"\n",(0,a.jsx)(n.h2,{id:"changing-the-theme",children:"Changing the Theme"}),"\n",(0,a.jsx)(n.p,{children:"By default, these methods will use a plain table output. To have a themed\ntable, you can change the default theme in the configuration:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",metastring:'title="config/packages/rekalogika_analytics.yaml"',children:'rekalogika_analytics:\n    table_theme: "@RekalogikaAnalyticsFrontend/bootstrap_5_renderer.html.twig"\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Alternatively, the methods above also accept the ",(0,a.jsx)(n.code,{children:"theme"})," parameter, which allows\nyou to specify a different theme for the table:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-php",children:"use Rekalogika\\Analytics\\Frontend\\Html\\TableRenderer;\n\n/** @var TableRenderer $tableRenderer */\n\n$table = $tableRenderer->renderPivotTable(\n    cube: $cube,\n    // highlight-next-line\n    theme: '@RekalogikaAnalyticsFrontend/bootstrap_5_renderer.html.twig'\n);\n"})}),"\n",(0,a.jsx)(n.h2,{id:"creating-a-custom-theme",children:"Creating a Custom Theme"}),"\n",(0,a.jsxs)(n.p,{children:["You can create a custom theme by extending the\n",(0,a.jsx)(n.code,{children:"RekalogikaAnalyticsFrontend/renderer.html.twig"})," file. Read\n",(0,a.jsx)(n.code,{children:"bootstrap_5_renderer.html.twig"})," for an example of how to do this."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>s});var r=t(6540);const a={},l=r.createContext(a);function i(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);